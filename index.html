<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para ti - Te amo by AlexDev</title>
     <!-- 

Contáctame:

    * Invitame un café
 https://buymeacoffee.com/alexx.dev

    * Portafolio Web
 https://alexxdev.vercel.app

    * Sigueme en tiktok
 https://www.tiktok.com/@alexx.dev?is_from_webapp=1&sender_device=pc 
 
    *Canal de WhatsApp
 https://whatsapp.com/channel/0029VazQEXq90x2vIdNkrH1p

-->
 
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand+SC&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
    <style>
      body {
background-color: #1b1d1b; 
margin: 0;
font-family: 'Patrick Hand SC', cursive;
display: flex;
justify-content: center;
align-items: center;
height: 100vh;
overflow: hidden;
-webkit-tap-highlight-color: transparent;
}

.App {
font-family: 'Patrick Hand SC', cursive;
text-align: center;
width: 100%;
height: 100%;
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
}

.heading {
font-size: 90px;
color: #FFC300;
margin-top: 200px; 
}

svg {
height: 130vh;
max-width: 100vw;
display: block;
margin-top: -30vh;

}

.petal:hover, .leaf:hover {
fill: #f8cdda;
transition: 0.3s ease;
}

.leaf, .petal {
cursor: pointer;
}

.flower-center-interactive {
cursor: pointer;
}

.flower-center-interactive:hover {
filter: brightness(1.1);
}

.tooltip {
position: absolute;
background-color: rgba(0, 0, 0, 0.75);
color: white;
padding: 5px 10px;
border-radius: 8px;
font-size: 1.5em;
pointer-events: none;
transform: translate(-50%, -120%);
white-space: nowrap;
z-index: 100;
}

.modal-overlay {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.7);
display: flex;
justify-content: center;
align-items: center;
z-index: 1000;
}

.modal-content {
background-color: #fff;
padding: 20px;
border-radius: 15px;
max-width: 90vw;
max-height: 90vh;
display: flex;
flex-direction: column;
align-items: center;
position: relative;
box-shadow: 0 10px 25px rgba(0,0,0,0.3);
}

.modal-close {
position: absolute;
top: 10px;
right: 15px;
font-size: 2em;
font-weight: bold;
color: #333;
cursor: pointer;
border: none;
background: none;
}

.modal-title {
font-size: 2.5em;
color: #4a2e2e;
margin-bottom: 15px;
}

.gallery {
display: flex;
align-items: center;
justify-content: center;
width: 100%;
}

.gallery-image {
max-width: 70vw;
max-height: 60vh;
border-radius: 10px;
object-fit: contain;
}

.gallery-nav {
background: rgba(255, 255, 255, 0.8);
border: none;
font-size: 2em;
cursor: pointer;
padding: 0 15px;
border-radius: 50%;
margin: 0 10px;
color: #333;
user-select: none;
}

@keyframes flower-sway {
from { transform: rotate(-1.5deg); }
to { transform: rotate(1.5deg); }
}

@keyframes head-bob {
from { transform: rotate(-2deg); }
to { transform: rotate(2deg); }
}

@keyframes leaf-flutter {
from { transform: rotate(-4deg); }
to { transform: rotate(4deg); }
}

@keyframes small-flower-sway {
  from { transform: rotate(-2.5deg); }
  to { transform: rotate(2.5deg); }
}

#Flor-Corregida {
animation: flower-sway 6s ease-in-out infinite alternate;
transform-origin: 122px 382px; 
}

#Cabeza-Animada {
animation: head-bob 8s ease-in-out infinite alternate-reverse;
transform-origin: 0 0;
}

#Tallo-y-Hojas > path.leaf:nth-of-type(2) {
animation: leaf-flutter 4s ease-in-out infinite alternate;
transform-origin: 118px 260px;
}

#Tallo-y-Hojas > path.leaf:nth-of-type(3) {
animation: leaf-flutter 3.5s ease-in-out infinite alternate 0.3s; 
transform-origin: 126px 305px;
}

.adornment-flower {
  transform-origin: 0 120px; 
}

.adornment-flower-1 {
  animation: small-flower-sway 5s ease-in-out infinite alternate;
}

.adornment-flower-2 {
  animation: small-flower-sway 7s ease-in-out infinite alternate 0.5s;
}
    </style>
</head>
<body>
   
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel" src="script.js"></script>
    <script>
      'use strict';

const flowerData = {
    petals: [
        { id: 'petal-0', name: 'Mi Pancha',  images: ['images/1.png'], soundFile: 'music/music.mp3' },
        { id: 'petal-1', name: 'Mi amor',          images: ['images/11.png'],     soundFile: 'music/music.mp3' },
        { id: 'petal-2', name: 'Siempre Juntos',    images: ['images/3.png'], soundFile: 'music/music.mp3' },
        { id: 'petal-3', name: 'Me Encantas',      images: ['images/4.png'],  soundFile: 'music/music.mp3' },
        { id: 'petal-4', name: 'Siempre estaré para tiiii',            images: ['images/5.png'],     soundFile: 'music/music.mp3' },
        { id: 'petal-5', name: 'Eres la mejor',      images: ['images/6.png'],     soundFile: 'music/music.mp3' },
        { id: 'petal-6', name: 'La distancia no importa amor',          images: ['images/7.png'],  soundFile: 'music/cermusicati.mp3' },
        { id: 'petal-7', name: 'Para ti',          images: ['images/8.png'], soundFile: 'music/music.mp3' }
    ],
    center: {
        id: 'center',
        name: 'Te Amo',
        images: ['images/2.png'],
        soundFile: 'music/music.mp3'
    },
    leaves: [
        { id: 'leaf-1', name: 'Eres Perfecta', images: ['images/9.png'], soundFile: 'music/music.mp3' },
        { id: 'leaf-2', name: 'Love You', images: ['images/10.png'], soundFile: 'music/music.mp3' }
    ]
};

const e = React.createElement;

const Tooltip = ({ text, position }) => {
    if (!text) return null;
    const style = {
        left: `${position.x}px`,
        top: `${position.y}px`,
    };
    return e('div', { className: 'tooltip', style }, text);
};

const Modal = ({ content, onClose }) => {
    const [currentImageIndex, setCurrentImageIndex] = React.useState(0);

    React.useEffect(() => {
    if (content) {
        setCurrentImageIndex(0);
    }
}, [content]);

if (!content) {
    return null;
}

const nextImage = () => setCurrentImageIndex(prev => (prev + 1) % content.images.length);
const prevImage = () => setCurrentImageIndex(prev => (prev - 1 + content.images.length) % content.images.length);

return e('div', { className: 'modal-overlay', onClick: onClose },
    e('div', { className: 'modal-content', onClick: e => e.stopPropagation() },
        e('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', width: '100%', marginBottom: '15px' } },
            e('span', { style: { fontSize: '2em', color: '#888' } }, ''),
            e('button', { className: 'modal-close', onClick: onClose }, '×')
        ),
        e('h2', { className: 'modal-title', style: { marginTop: 0 } }, content.name),
        e('div', { className: 'gallery' },
            content.images.length > 1 && e('button', { className: 'gallery-nav', onClick: prevImage }, '‹'),
            e('img', {
                className: 'gallery-image',
                src: content.images?.[currentImageIndex],
                alt: `${content.name} ${currentImageIndex + 1}`,
                onError: (e) => { e.target.onerror = null; e.target.src = "https://placehold.co/600x400/ccc/333?text=Imagen+no+encontrada"; }
            }),
            content.images.length > 1 && e('button', { className: 'gallery-nav', onClick: nextImage }, '›')
        )
    )
);
};

const AdornmentFlower = ({ transform, className }) => (
    e('g', { transform: transform },
        e('g', { className: `adornment-flower ${className || ''}`, style: { pointerEvents: 'none' } },
            // Tallo
            e('path', { d: "M0,0 C -5,50, 5,100, 0,150", stroke: "#4CAF50", strokeWidth: "2", fill: "none" }),
            // Las dos líneas de las hojas han sido eliminadas
            e('g', { transform: "translate(0, 0) scale(0.2) translate(-200, -200)" },
                e('g', null,
                    Array.from({ length: 8 }).map((_, i) => {
                        const rotate = `rotate(${45 * i} 200 200)`;
                        return e('g', { key: `small-petal-${i}`, transform: rotate },
                            e('use', { fill: "#FFC300", href: "#path-petal" })
                        );
                    }),
                    e('g', { transform: "translate(173, 173)" },
                        e('use', { fill: "#654321", href: "#path-sm-circle" }),
                        e('use', { fill: "#8B4513", href: "#path-lg-circle" })
                    )
                )
            )
        )
    )
);


const App = () => {
    const [modalContent, setModalContent] = React.useState(null);
    const [hoveredItem, setHoveredItem] = React.useState({ name: null, position: { x: 0, y: 0 } });
    const [hoveredPetal, setHoveredPetal] = React.useState(null);

    const audioRef = React.useRef(null);

    const handleItemClick = (itemData) => {
        if (audioRef.current) {
            audioRef.current.pause();
            audioRef.current.currentTime = 0;
        }

        if (itemData.soundFile) {
            const newAudio = new Audio(itemData.soundFile);
            audioRef.current = newAudio;
            newAudio.play().catch(error => console.error("Error al reproducir audio:", error));
        }

        setModalContent(itemData);
    };

    const handleMouseEnter = (itemData, event) => setHoveredItem({ name: itemData.name, position: { x: event.clientX, y: event.clientY } });
    const handleMouseMove = (event) => { if (hoveredItem.name) { setHoveredItem(prev => ({ ...prev, position: { x: event.clientX, y: event.clientY } })); } };
    const handleMouseLeave = () => setHoveredItem({ name: null, position: { x: 0, y: 0 } });
    const handlePetalEnter = (petalId) => setHoveredPetal(petalId);
    const handlePetalLeave = () => setHoveredPetal(null);

    const closeModal = () => {
        if (audioRef.current) {
            audioRef.current.pause();
            audioRef.current.currentTime = 0;
        }
        setModalContent(null);
    };

    return e('div', { className: 'App', onMouseMove: handleMouseMove },
        e(Tooltip, { text: hoveredItem.name, position: hoveredItem.position }),
        e(Modal, { content: modalContent, onClose: closeModal }),
        e('div', { className: 'heading' }, modalContent ? modalContent.name : 'Para ti - Te amo'),
        e('svg', { viewBox: "0 0 244 400" },
            e('defs', null,
                e('path', { d: "M223.120444,246.724259 C216.601694,240.205509 198.89935,211.936759 205.4181,205.418009 C211.93685,198.899259 240.2056,216.603165 246.72435,223.120353 C253.2431,229.639103 253.2431,240.205509 246.72435,246.724259 C240.2056,253.241446 229.638412,253.241446 223.120444,246.724259 Z", id: "path-petal" }),
                e('filter', { x: "-18.9%", y: "-18.9%", width: "137.8%", height: "137.8%", filterUnits: "objectBoundingBox", id: "filter-petal" },
                    e('feOffset', { dx: "0", dy: "0", in: "SourceAlpha", result: "shadowOffsetOuter1" }),
                    e('feGaussianBlur', { stdDeviation: "3", in: "shadowOffsetOuter1", result: "shadowBlurOuter1" }),
                    e('feColorMatrix', { values: "0 0 0 0 0.482352941  0 0 0 0 0.384313725  0 0 0 0 0.384313725 0 0 0 0.5 0", type: "matrix", in: "shadowBlurOuter1" })
                ),
                e('circle', { id: "path-sm-circle", cx: "27", cy: "27", r: "27" }),
                e('filter', { x: "-16.7%", y: "-16.7%", width: "133.3%", height: "133.3%", filterUnits: "objectBoundingBox", id: "filter-sm-circle" },
                    e('feOffset', { dx: "0", dy: "0", in: "SourceAlpha", result: "shadowOffsetOuter1" }),
                    e('feGaussianBlur', { stdDeviation: "3", in: "shadowOffsetOuter1", result: "shadowBlurOuter1" }),
                    e('feColorMatrix', { values: "0 0 0 0 0.819169855  0 0 0 0 0.758145838  0 0 0 0 0.758145838 0 0 0 0.5 0", type: "matrix", in: "shadowBlurOuter1" })
                ),
                e('circle', { id: "path-lg-circle", cx: "27", cy: "27", r: "18" }),
                e('filter', { x: "-25.0%", y: "-25.0%", width: "150.0%", height: "150.0%", filterUnits: "objectBoundingBox", id: "filter-lg-circle" },
                    e('feOffset', { dx: "0", dy: "0", in: "SourceAlpha", result: "shadowOffsetOuter1" }),
                    e('feGaussianBlur', { stdDeviation: "3", in: "shadowOffsetOuter1", result: "shadowBlurOuter1" }),
                    e('feColorMatrix', { values: "0 0 0 0 0.819169855  0 0 0 0 0.758145838  0 0 0 0 0.758145838 0 0 0 0.5 0", type: "matrix", in: "shadowBlurOuter1" })
                )
            ),

            e(AdornmentFlower, { transform: "translate(45, 230) scale(1)", className: "adornment-flower-1" }),
            e(AdornmentFlower, { transform: "translate(190, 260) scale(0.8)", className: "adornment-flower-2" }),
            e(AdornmentFlower, { transform: "translate(25, 280) scale(0.7)", className: "adornment-flower-2" }),
            e(AdornmentFlower, { transform: "translate(215, 290) scale(0.6)", className: "adornment-flower-1" }),
            e(AdornmentFlower, { transform: "translate(10, 280) scale(0.5)", className: "adornment-flower-1" }),
            e(AdornmentFlower, { transform: "translate(225, 280) scale(0.5)", className: "adornment-flower-2" }),

            e('g', { id: "Flor-Corregida" },
                e('g', { id: "Tallo-y-Hojas" },
                    e('path', { d: "M122,185 C 115,240, 130,280, 122,382", stroke: "#4CAF50", strokeWidth: "4", fill: "none" }),
                    e('path', {
                        d: "M120,250 Q 80,240, 70,280 Q 90,290, 118,265 Z",
                        fill: "#66BB6A", stroke: "#388E3C", strokeWidth: "1.5", className: "leaf",
                        onClick: () => handleItemClick(flowerData.leaves?.[0]),
                        onMouseEnter: (evt) => handleMouseEnter(flowerData.leaves?.[0], evt),
                        onMouseLeave: handleMouseLeave
                    }),
                    e('path', {
                        d: "M124,295 Q 165,285, 175,325 Q 155,335, 126,310 Z",
                        fill: "#66BB6A", stroke: "#388E3C", strokeWidth: "1.5", className: "leaf",
                        onClick: () => handleItemClick(flowerData.leaves?.[1]),
                        onMouseEnter: (evt) => handleMouseEnter(flowerData.leaves?.[1], evt),
                        onMouseLeave: handleMouseLeave
                    })
                ),
                e('g', { id: "Pivote-Cabeza", transform: "translate(122, 185) scale(1.15)" },
                    e('g', { id: "Cabeza-Animada" },
                        e('g', { id: "Arte-Flor", transform: "translate(-200, -200)" },
                            e('g', { id: "Petal-group", fillRule: "nonzero" },
                                flowerData.petals.map((petal, i) => {
                                    const rotate = i > 3 ? `rotate(${90 * i + 45} 200 200)` : `rotate(${90 * i} 200 200)`;
                                    const isHovered = hoveredPetal === petal.id;
                                    const petalFill = isHovered ? "#FFD700" : "#FFC300";
                                    return e('g', {
                                        key: petal.id, id: petal.id, className: 'petal', transform: rotate,
                                        onClick: () => handleItemClick(petal),
                                        onMouseEnter: (evt) => { handleMouseEnter(petal, evt); handlePetalEnter(petal.id); },
                                        onMouseLeave: () => { handleMouseLeave(); handlePetalLeave(); }
                                    },
                                        e('use', { fill: "black", fillOpacity: "1", filter: "url(#filter-petal)", href: "#path-petal" }),
                                        e('use', { fill: petalFill, href: "#path-petal", style: { transition: "fill 0.3s ease" } })
                                    );
                                })
                            ),
                            e('g', {
                                id: "Center", transform: "translate(173.000000, 173.000000)", className: 'flower-center-interactive',
                                onClick: () => handleItemClick(flowerData.center),
                                onMouseEnter: (evt) => handleMouseEnter(flowerData.center, evt),
                                onMouseLeave: handleMouseLeave
                            },
                                e('g', { id: "Oval-sm" },
                                    e('use', { fill: "black", fillOpacity: "1", filter: "url(#filter-sm-circle)", href: "#path-sm-circle" }),
                                    e('use', { fill: "#654321", fillRule: "evenodd", href: "#path-sm-circle" })
                                ),
                                e('g', { id: "Oval-lg" },
                                    e('use', { fill: "black", fillOpacity: "1", filter: "url(#filter-lg-circle)", href: "#path-lg-circle" }),
                                    e('use', { fill: "#8B4513", fillRule: "evenodd", href: "#path-lg-circle" })
                                )
                            )
                        )
                    )
                )
            )
        )
    );
};

const domContainer = document.querySelector('#root');
const root = ReactDOM.createRoot(domContainer);
root.render(e(App));
    </script>
</body>

 <!-- 

Contáctame:

    * Invitame un café
 https://buymeacoffee.com/alexx.dev

    * Portafolio Web
 https://alexxdev.vercel.app

    * Sigueme en tiktok
 https://www.tiktok.com/@alexx.dev?is_from_webapp=1&sender_device=pc 
 
    *Canal de WhatsApp
 https://whatsapp.com/channel/0029VazQEXq90x2vIdNkrH1p

-->
 

</html>